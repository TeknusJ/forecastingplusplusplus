{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import Papa from'papaparse';import _ from'lodash';import{Upload,ChevronDown,ChevronUp}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ROLE_WEIGHTS={'Lead':1,'Co-Lead':0.7,'Strategic Advisor':0.3,'Supporting':0.5};const PIPELINE_STAGE_WEIGHTS={'On Hold and Introductory Meeting':0.1,'Proposal Requested':0.3,'Proposal Under Review':0.5,'LOE Requested':0.7,'LOE Under Review':0.9,'Prospect':0.4,'Closed Won':1,// Adjusted to reflect active/current work\n'Follow On':0.95};const MAX_RECOMMENDED_LOAD=8;const ConsultantCapacityDashboard=()=>{const[consultantData,setConsultantData]=useState([]);const[filteredData,setFilteredData]=useState([]);const[expandedConsultant,setExpandedConsultant]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[removePipelineWork,setRemovePipelineWork]=useState(false);const[internalWorkAdjustments,setInternalWorkAdjustments]=useState({});const handleInternalWorkChange=(consultantName,value)=>{setInternalWorkAdjustments(prev=>({...prev,[consultantName]:value}));};const[filters,setFilters]=useState({businessLine:'all',timeframe:'all',capacityStatus:'all',consultantSearch:''});const calculateWeightedLoad=projects=>{return projects.reduce((total,project)=>{const roleWeight=ROLE_WEIGHTS[project.role]||0;const stageWeight=PIPELINE_STAGE_WEIGHTS[project.dealStage]||0;const followOnWeight=project.projectName.includes('-Follow On')?0.95:1;return total+roleWeight*stageWeight*followOnWeight;},0);};const generateMonthlyTimeline=(projects,internalWorkPercentage)=>{const months=[];const today=new Date();for(let i=0;i<12;i++){const month=new Date(today.getFullYear(),today.getMonth()+i,1);months.push(month);}return months.map(month=>{const activeProjects=projects.filter(project=>{const startDate=new Date(project.startDate);const endDate=new Date(project.endDate);return!isNaN(startDate)&&!isNaN(endDate)&&month>=startDate&&month<=endDate;});const weightedLoad=calculateWeightedLoad(activeProjects);const adjustedCapacity=Math.max(0,MAX_RECOMMENDED_LOAD*(1-internalWorkPercentage/100)-weightedLoad);return{month:month.toLocaleString('default',{month:'short',year:'2-digit'}),projects:activeProjects.length,weightedLoad:parseFloat(weightedLoad.toFixed(1)),capacity:parseFloat(adjustedCapacity.toFixed(1)),details:activeProjects.map(p=>({name:p.projectName,role:p.role,businessLine:p.businessLine}))};});};const processData=parsedData=>{try{const splitConsultants=str=>str?str.split(';').map(s=>s.trim()).filter(Boolean):[];const projectsByConsultant={};parsedData.data.forEach(project=>{const processRole=(names,role)=>{splitConsultants(names).forEach(name=>{if(!projectsByConsultant[name]){projectsByConsultant[name]=[];}projectsByConsultant[name].push({projectName:project['Deal Name'],role:role,startDate:project['Contract Start Date'],endDate:project['Contract End Date'],businessLine:project['Primary Business Line'],dealStage:project['Deal Stage']});});};processRole(project['Project Lead'],'Lead');processRole(project['Project Co-Lead'],'Co-Lead');processRole(project['Project Strategic Advisors'],'Strategic Advisor');processRole(project['Project Supporting Consultants'],'Supporting');});const consultantsWithTimeline=Object.entries(projectsByConsultant).map(_ref=>{let[name,projects]=_ref;const internalWorkPercentage=internalWorkAdjustments[name]||0;return{name,projects:_.uniqBy(projects,'projectName'),timeline:generateMonthlyTimeline(projects,internalWorkPercentage),currentLoad:projects.filter(p=>{const now=new Date();const startDate=new Date(p.startDate);const endDate=new Date(p.endDate);return!isNaN(startDate)&&!isNaN(endDate)&&now>=startDate&&now<=endDate;}).length};}).sort((a,b)=>b.currentLoad-a.currentLoad);setConsultantData(consultantsWithTimeline);setFilteredData(consultantsWithTimeline);}catch(err){setError('Error processing data: '+err.message);setIsLoading(false);}};const handleFileUpload=event=>{setIsLoading(true);setError(null);const file=event.target.files[0];if(file){Papa.parse(file,{header:true,dynamicTyping:true,skipEmptyLines:true,complete:results=>{processData(results);setIsLoading(false);},error:error=>{setError('Error parsing CSV: '+error.message);setIsLoading(false);}});}else{setIsLoading(false);}};const toggleConsultant=consultantName=>{setExpandedConsultant(expandedConsultant===consultantName?null:consultantName);};useEffect(()=>{const applyFilters=()=>{let filtered=[...consultantData];if(removePipelineWork){filtered=filtered.map(consultant=>({...consultant,projects:consultant.projects.filter(project=>project.dealStage==='Closed Won')}));}if(filters.businessLine!=='all'){filtered=filtered.map(consultant=>({...consultant,projects:consultant.projects.filter(project=>project.businessLine===filters.businessLine)}));}if(filters.timeframe!=='all'){const months=parseInt(filters.timeframe);const cutoffDate=new Date();cutoffDate.setMonth(cutoffDate.getMonth()+months);filtered=filtered.map(consultant=>({...consultant,projects:consultant.projects.filter(project=>{const endDate=new Date(project.endDate);return endDate<=cutoffDate;})}));}if(filters.capacityStatus!=='all'){filtered=filtered.filter(consultant=>{const currentLoad=consultant.timeline[0].weightedLoad;switch(filters.capacityStatus){case'available':return currentLoad<MAX_RECOMMENDED_LOAD*0.8;case'at-capacity':return currentLoad>=MAX_RECOMMENDED_LOAD*0.8&&currentLoad<=MAX_RECOMMENDED_LOAD;case'over-capacity':return currentLoad>MAX_RECOMMENDED_LOAD;default:return true;}});}if(filters.consultantSearch){filtered=filtered.filter(consultant=>consultant.name.toLowerCase().includes(filters.consultantSearch.toLowerCase()));}setFilteredData(filtered);};applyFilters();},[filters,consultantData,removePipelineWork]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gray-50 min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mr-2 text-sm font-medium text-gray-700\",children:\"Remove Pipeline Work\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:removePipelineWork,onChange:e=>setRemovePipelineWork(e.target.checked),className:\"form-checkbox h-5 w-5 text-blue-600\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 flex justify-between items-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-1/3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-2 text-sm text-gray-600\",children:\"Upload Hubspot CSV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",accept:\".csv\",onChange:handleFileUpload})]})})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 text-red-700 rounded\",children:error}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-blue-100 text-blue-700 rounded\",children:\"Loading data, please wait...\"}),consultantData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:filteredData.map(consultant=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleConsultant(consultant.name),className:\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:consultant.name}),/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded-full text-sm ${consultant.currentLoad>=MAX_RECOMMENDED_LOAD?'bg-red-100 text-red-800':'bg-green-100 text-green-800'}`,children:[consultant.currentLoad,\" Active Projects\"]})]}),expandedConsultant===consultant.name?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"})]}),expandedConsultant===consultant.name&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 pb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Internal Work Adjustment\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"100\",step:\"5\",value:internalWorkAdjustments[consultant.name]||0,onChange:e=>handleInternalWorkChange(consultant.name,parseInt(e.target.value,10)),className:\"mt-2 w-full\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[internalWorkAdjustments[consultant.name]||0,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 mb-2\",children:\"12-Month Capacity Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:consultant.timeline,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{content:_ref2=>{let{active,payload,label}=_ref2;if(active&&payload&&payload.length){const data=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 shadow rounded border\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:label}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Weighted Load: \",data.weightedLoad]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600\",children:[\"Available Capacity: \",data.capacity]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold\",children:\"Active Projects:\"}),data.details.map((project,idx)=>/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs\",children:[project.name,\" (\",project.role,\")\"]},idx))]})]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"weightedLoad\",fill:\"#8884d8\",name:\"Project Load\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"capacity\",fill:\"#82ca9d\",name:\"Available Capacity\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 mb-2\",children:\"Current Projects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Business Line\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Timeline\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:consultant.projects.map((project,idx)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-900\",children:project.projectName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${project.role==='Lead'?'bg-green-100 text-green-800':project.role==='Co-Lead'?'bg-blue-100 text-blue-800':project.role==='Strategic Advisor'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:project.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-500\",children:project.businessLine}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-sm text-gray-500\",children:[project.startDate,\" - \",project.endDate]})]},idx))})]})})]})]})]},consultant.name))})]});};export default ConsultantCapacityDashboard;","map":{"version":3,"names":["React","useState","useEffect","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Papa","_","Upload","ChevronDown","ChevronUp","jsx","_jsx","jsxs","_jsxs","ROLE_WEIGHTS","PIPELINE_STAGE_WEIGHTS","MAX_RECOMMENDED_LOAD","ConsultantCapacityDashboard","consultantData","setConsultantData","filteredData","setFilteredData","expandedConsultant","setExpandedConsultant","isLoading","setIsLoading","error","setError","removePipelineWork","setRemovePipelineWork","internalWorkAdjustments","setInternalWorkAdjustments","handleInternalWorkChange","consultantName","value","prev","filters","setFilters","businessLine","timeframe","capacityStatus","consultantSearch","calculateWeightedLoad","projects","reduce","total","project","roleWeight","role","stageWeight","dealStage","followOnWeight","projectName","includes","generateMonthlyTimeline","internalWorkPercentage","months","today","Date","i","month","getFullYear","getMonth","push","map","activeProjects","filter","startDate","endDate","isNaN","weightedLoad","adjustedCapacity","Math","max","toLocaleString","year","length","parseFloat","toFixed","capacity","details","p","name","processData","parsedData","splitConsultants","str","split","s","trim","Boolean","projectsByConsultant","data","forEach","processRole","names","consultantsWithTimeline","Object","entries","_ref","uniqBy","timeline","currentLoad","now","sort","a","b","err","message","handleFileUpload","event","file","target","files","parse","header","dynamicTyping","skipEmptyLines","complete","results","toggleConsultant","applyFilters","filtered","consultant","parseInt","cutoffDate","setMonth","toLowerCase","className","children","type","checked","onChange","e","accept","onClick","min","step","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","content","_ref2","active","payload","label","idx","fill"],"sources":["/Users/johnteknus/Desktop/forecast/src/components/ConsultantCapacityDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\nimport Papa from 'papaparse';\nimport _ from 'lodash';\nimport { Upload, ChevronDown, ChevronUp } from 'lucide-react';\n\nconst ROLE_WEIGHTS = {\n  'Lead': 1,\n  'Co-Lead': 0.7,\n  'Strategic Advisor': 0.3,\n  'Supporting': 0.5\n};\n\nconst PIPELINE_STAGE_WEIGHTS = {\n  'On Hold and Introductory Meeting': 0.1,\n  'Proposal Requested': 0.3,\n  'Proposal Under Review': 0.5,\n  'LOE Requested': 0.7,\n  'LOE Under Review': 0.9,\n  'Prospect': 0.4,\n  'Closed Won': 1, // Adjusted to reflect active/current work\n  'Follow On': 0.95\n};\n\nconst MAX_RECOMMENDED_LOAD = 8;\n\nconst ConsultantCapacityDashboard = () => {\n  const [consultantData, setConsultantData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [expandedConsultant, setExpandedConsultant] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [removePipelineWork, setRemovePipelineWork] = useState(false);\n  const [internalWorkAdjustments, setInternalWorkAdjustments] = useState({});\n\n  const handleInternalWorkChange = (consultantName, value) => {\n    setInternalWorkAdjustments(prev => ({\n      ...prev,\n      [consultantName]: value\n    }));\n  };\n\n  const [filters, setFilters] = useState({\n    businessLine: 'all',\n    timeframe: 'all',\n    capacityStatus: 'all',\n    consultantSearch: ''\n  });\n\n  const calculateWeightedLoad = (projects) => {\n    return projects.reduce((total, project) => {\n      const roleWeight = ROLE_WEIGHTS[project.role] || 0;\n      const stageWeight = PIPELINE_STAGE_WEIGHTS[project.dealStage] || 0;\n      const followOnWeight = project.projectName.includes('-Follow On') ? 0.95 : 1;\n      return total + roleWeight * stageWeight * followOnWeight;\n    }, 0);\n  };\n\n  const generateMonthlyTimeline = (projects, internalWorkPercentage) => {\n    const months = [];\n    const today = new Date();\n\n    for (let i = 0; i < 12; i++) {\n      const month = new Date(today.getFullYear(), today.getMonth() + i, 1);\n      months.push(month);\n    }\n\n    return months.map(month => {\n      const activeProjects = projects.filter(project => {\n        const startDate = new Date(project.startDate);\n        const endDate = new Date(project.endDate);\n        return (!isNaN(startDate) && !isNaN(endDate)) &&\n          (month >= startDate && month <= endDate);\n      });\n\n      const weightedLoad = calculateWeightedLoad(activeProjects);\n      const adjustedCapacity = Math.max(0, MAX_RECOMMENDED_LOAD * (1 - internalWorkPercentage / 100) - weightedLoad);\n\n      return {\n        month: month.toLocaleString('default', { month: 'short', year: '2-digit' }),\n        projects: activeProjects.length,\n        weightedLoad: parseFloat(weightedLoad.toFixed(1)),\n        capacity: parseFloat(adjustedCapacity.toFixed(1)),\n        details: activeProjects.map(p => ({\n          name: p.projectName,\n          role: p.role,\n          businessLine: p.businessLine\n        }))\n      };\n    });\n  };\n\n  const processData = (parsedData) => {\n    try {\n      const splitConsultants = (str) => str ? str.split(';').map(s => s.trim()).filter(Boolean) : [];\n\n      const projectsByConsultant = {};\n      parsedData.data.forEach(project => {\n        const processRole = (names, role) => {\n          splitConsultants(names).forEach(name => {\n            if (!projectsByConsultant[name]) {\n              projectsByConsultant[name] = [];\n            }\n            projectsByConsultant[name].push({\n              projectName: project['Deal Name'],\n              role: role,\n              startDate: project['Contract Start Date'],\n              endDate: project['Contract End Date'],\n              businessLine: project['Primary Business Line'],\n              dealStage: project['Deal Stage']\n            });\n          });\n        };\n\n        processRole(project['Project Lead'], 'Lead');\n        processRole(project['Project Co-Lead'], 'Co-Lead');\n        processRole(project['Project Strategic Advisors'], 'Strategic Advisor');\n        processRole(project['Project Supporting Consultants'], 'Supporting');\n      });\n\n      const consultantsWithTimeline = Object.entries(projectsByConsultant)\n        .map(([name, projects]) => {\n          const internalWorkPercentage = internalWorkAdjustments[name] || 0;\n          return {\n            name,\n            projects: _.uniqBy(projects, 'projectName'),\n            timeline: generateMonthlyTimeline(projects, internalWorkPercentage),\n            currentLoad: projects.filter(p => {\n              const now = new Date();\n              const startDate = new Date(p.startDate);\n              const endDate = new Date(p.endDate);\n              return (!isNaN(startDate) && !isNaN(endDate)) &&\n                (now >= startDate && now <= endDate);\n            }).length\n          };\n        })\n        .sort((a, b) => b.currentLoad - a.currentLoad);\n\n      setConsultantData(consultantsWithTimeline);\n      setFilteredData(consultantsWithTimeline);\n    } catch (err) {\n      setError('Error processing data: ' + err.message);\n      setIsLoading(false);\n    }\n  };\n\n  const handleFileUpload = (event) => {\n    setIsLoading(true);\n    setError(null);\n    const file = event.target.files[0];\n\n    if (file) {\n      Papa.parse(file, {\n        header: true,\n        dynamicTyping: true,\n        skipEmptyLines: true,\n        complete: (results) => {\n          processData(results);\n          setIsLoading(false);\n        },\n        error: (error) => {\n          setError('Error parsing CSV: ' + error.message);\n          setIsLoading(false);\n        }\n      });\n    } else {\n      setIsLoading(false);\n    }\n  };\n\n  const toggleConsultant = (consultantName) => {\n    setExpandedConsultant(expandedConsultant === consultantName ? null : consultantName);\n  };\n\n  useEffect(() => {\n    const applyFilters = () => {\n      let filtered = [...consultantData];\n\n      if (removePipelineWork) {\n        filtered = filtered.map(consultant => ({\n          ...consultant,\n          projects: consultant.projects.filter(project =>\n            project.dealStage === 'Closed Won'\n          )\n        }));\n      }\n\n      if (filters.businessLine !== 'all') {\n        filtered = filtered.map(consultant => ({\n          ...consultant,\n          projects: consultant.projects.filter(project =>\n            project.businessLine === filters.businessLine\n          )\n        }));\n      }\n\n      if (filters.timeframe !== 'all') {\n        const months = parseInt(filters.timeframe);\n        const cutoffDate = new Date();\n        cutoffDate.setMonth(cutoffDate.getMonth() + months);\n\n        filtered = filtered.map(consultant => ({\n          ...consultant,\n          projects: consultant.projects.filter(project => {\n            const endDate = new Date(project.endDate);\n            return endDate <= cutoffDate;\n          })\n        }));\n      }\n\n      if (filters.capacityStatus !== 'all') {\n        filtered = filtered.filter(consultant => {\n          const currentLoad = consultant.timeline[0].weightedLoad;\n          switch (filters.capacityStatus) {\n            case 'available':\n              return currentLoad < MAX_RECOMMENDED_LOAD * 0.8;\n            case 'at-capacity':\n              return currentLoad >= MAX_RECOMMENDED_LOAD * 0.8 && currentLoad <= MAX_RECOMMENDED_LOAD;\n            case 'over-capacity':\n              return currentLoad > MAX_RECOMMENDED_LOAD;\n            default:\n              return true;\n          }\n        });\n      }\n\n      if (filters.consultantSearch) {\n        filtered = filtered.filter(consultant =>\n          consultant.name.toLowerCase().includes(filters.consultantSearch.toLowerCase())\n        );\n      }\n\n      setFilteredData(filtered);\n    };\n\n    applyFilters();\n  }, [filters, consultantData, removePipelineWork]);\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      <div className=\"mb-4 flex items-center\">\n        <label className=\"mr-2 text-sm font-medium text-gray-700\">Remove Pipeline Work</label>\n        <input\n          type=\"checkbox\"\n          checked={removePipelineWork}\n          onChange={(e) => setRemovePipelineWork(e.target.checked)}\n          className=\"form-checkbox h-5 w-5 text-blue-600\"\n        />\n      </div>\n\n      <div className=\"mb-8 flex justify-between items-start\">\n        <div className=\"w-1/3\">\n          <label className=\"flex flex-col items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-white hover:bg-gray-50\">\n            <Upload className=\"w-8 h-8 text-gray-400\" />\n            <span className=\"mt-2 text-sm text-gray-600\">Upload Hubspot CSV</span>\n            <input type=\"file\" className=\"hidden\" accept=\".csv\" onChange={handleFileUpload} />\n          </label>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      {isLoading && (\n        <div className=\"mb-4 p-4 bg-blue-100 text-blue-700 rounded\">\n          Loading data, please wait...\n        </div>\n      )}\n\n      {consultantData.length > 0 && (\n        <div className=\"space-y-6\">\n          {filteredData.map((consultant) => (\n            <div key={consultant.name} className=\"bg-white rounded-lg shadow\">\n              <button\n                onClick={() => toggleConsultant(consultant.name)}\n                className=\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50\"\n              >\n                <div className=\"flex items-center space-x-4\">\n                  <span className=\"text-lg font-semibold\">{consultant.name}</span>\n                  <span className={`px-3 py-1 rounded-full text-sm ${\n                    consultant.currentLoad >= MAX_RECOMMENDED_LOAD\n                      ? 'bg-red-100 text-red-800'\n                      : 'bg-green-100 text-green-800'\n                  }`}>\n                    {consultant.currentLoad} Active Projects\n                  </span>\n                </div>\n                {expandedConsultant === consultant.name ? (\n                  <ChevronUp className=\"w-5 h-5 text-gray-500\" />\n                ) : (\n                  <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n                )}\n              </button>\n\n              {expandedConsultant === consultant.name && (\n                <div className=\"px-6 pb-6\">\n                  <div className=\"mt-4\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Internal Work Adjustment</label>\n                    <input\n                      type=\"range\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"5\"\n                      value={internalWorkAdjustments[consultant.name] || 0}\n                      onChange={(e) => handleInternalWorkChange(consultant.name, parseInt(e.target.value, 10))}\n                      className=\"mt-2 w-full\"\n                    />\n                    <span className=\"text-sm text-gray-600\">{internalWorkAdjustments[consultant.name] || 0}%</span>\n                  </div>\n\n                  <div className=\"mt-4\">\n                    <h4 className=\"text-sm font-medium text-gray-500 mb-2\">12-Month Capacity Timeline</h4>\n                    <div className=\"h-64\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart\n                          data={consultant.timeline}\n                          margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n                        >\n                          <CartesianGrid strokeDasharray=\"3 3\" />\n                          <XAxis dataKey=\"month\" />\n                          <YAxis />\n                          <Tooltip\n                            content={({ active, payload, label }) => {\n                              if (active && payload && payload.length) {\n                                const data = payload[0].payload;\n                                return (\n                                  <div className=\"bg-white p-4 shadow rounded border\">\n                                    <p className=\"font-semibold\">{label}</p>\n                                    <p className=\"text-sm\">Weighted Load: {data.weightedLoad}</p>\n                                    <p className=\"text-sm text-green-600\">Available Capacity: {data.capacity}</p>\n                                    <div className=\"mt-2\">\n                                      <p className=\"text-xs font-semibold\">Active Projects:</p>\n                                      {data.details.map((project, idx) => (\n                                        <p key={idx} className=\"text-xs\">\n                                          {project.name} ({project.role})\n                                        </p>\n                                      ))}\n                                    </div>\n                                  </div>\n                                );\n                              }\n                              return null;\n                            }}\n                          />\n                          <Legend />\n                          <Bar dataKey=\"weightedLoad\" fill=\"#8884d8\" name=\"Project Load\" />\n                          <Bar dataKey=\"capacity\" fill=\"#82ca9d\" name=\"Available Capacity\" />\n                        </BarChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6\">\n                    <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Current Projects</h4>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"min-w-full\">\n                        <thead className=\"bg-gray-50\">\n                          <tr>\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Project</th>\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Role</th>\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Business Line</th>\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Timeline</th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-200\">\n                          {consultant.projects.map((project, idx) => (\n                            <tr key={idx} className=\"hover:bg-gray-50\">\n                              <td className=\"px-4 py-3 text-sm text-gray-900\">{project.projectName}</td>\n                              <td className=\"px-4 py-3 text-sm\">\n                                <span className={`px-2 py-1 rounded-full text-xs ${\n                                  project.role === 'Lead' ? 'bg-green-100 text-green-800' :\n                                  project.role === 'Co-Lead' ? 'bg-blue-100 text-blue-800' :\n                                  project.role === 'Strategic Advisor' ? 'bg-yellow-100 text-yellow-800' :\n                                  'bg-gray-100 text-gray-800'\n                                }`}>\n                                  {project.role}\n                                </span>\n                              </td>\n                              <td className=\"px-4 py-3 text-sm text-gray-500\">{project.businessLine}</td>\n                              <td className=\"px-4 py-3 text-sm text-gray-500\">\n                                {project.startDate} - {project.endDate}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConsultantCapacityDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}